<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prueba Wompi</title>
</head>
<body>
  <h1>Botón de prueba con Wompi</h1>
  <button id="btnPagar">Pagar $5.000</button>

  <script>
    document.getElementById("btnPagar").addEventListener("click", async () => {
      try {
        const response = await fetch("https://backend-coltic.vercel.app/api/transaction", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            amount_in_cents: 500000, // $5.000 COP en centavos
            currency: "COP",
            customer_email: "cliente@correo.com",
            payment_method: {
              type: "CARD",
              // ⚠️ Token de prueba de tarjeta en Wompi Sandbox
              token: "tok_test_visa_4242"
            }
          })
        });

        const data = await response.json();
        console.log("Respuesta de Wompi:", data);
        alert("Respuesta recibida, revisa la consola del navegador.");
      } catch (err) {
        console.error("Error:", err);
        alert("Error en la transacción, revisa consola.");
      }
    });
  </script>
</body>
</html>

