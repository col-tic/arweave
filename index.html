<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect to Wander</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #000;
            margin: 0;
            padding: 20px;
            color: #00FF00;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            text-align: center;
        }

        h1 {
            margin-bottom: 30px;
            text-shadow: 0 0 10px #00FF00;
        }

        .wander-btn {
            background: none;
            color: #37006b;
            font-size: 20px;
            border: 2px solid #37006b;
            padding: 15px 30px;
            text-shadow: 0 0 5px #37006b;
            font-family: 'Courier New', Courier, monospace;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .wander-btn:hover {
            background-color: #37006b;
            color: #000;
        }

        .wander-btn.connected {
            color: #00FF00;
            border-color: #00FF00;
            text-shadow: 0 0 5px #00FF00;
        }

        .wander-btn.connected:hover {
            background-color: #00FF00;
            color: #000;
        }

        .wallet-info {
            margin-top: 20px;
            color: #00FF00;
            text-shadow: 0 0 5px #00FF00;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Wander Wallet Connection</h1>
        <button id="wanderBtn" class="wander-btn">Connect to Wander</button>
        <div id="walletInfo" class="wallet-info"></div>
    </div>

    <script>
        const wanderBtn = document.getElementById("wanderBtn");
        const walletInfo = document.getElementById("walletInfo");
        let currentAddress = null;

        function checkWander() {
            if (!window.arweaveWallet) {
                alert("â— No se detecta Wander. Instala la extensiÃ³n desde la Chrome Web Store.");
                return false;
            }
            return true;
        }

        async function connectWander() {
            if (!checkWander()) return;

            try {
                await window.arweaveWallet.connect(["ACCESS_ADDRESS", "DISPATCH"]);
                currentAddress = await window.arweaveWallet.getActiveAddress();
                wanderBtn.textContent = "Disconnect";
                wanderBtn.classList.add("connected");
                walletInfo.textContent = `Connected: ${currentAddress}`;
                console.log("âœ… Connected to Wander:", currentAddress);
            } catch (err) {
                console.error("Connection error:", err);
                alert("Error connecting: " + err.message);
            }
        }

        async function disconnectWander() {
            try {
                await window.arweaveWallet.disconnect();
                currentAddress = null;
                wanderBtn.textContent = "Connect to Wander";
                wanderBtn.classList.remove("connected");
                walletInfo.textContent = "";
                console.log("ðŸ”Œ Disconnected from Wander");
            } catch (err) {
                console.error("Disconnect error:", err);
            }
        }

        wanderBtn.addEventListener("click", () => {
            if (currentAddress) disconnectWander();
            else connectWander();
        });
    </script>
</body>
</html>
